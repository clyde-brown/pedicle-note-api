# Pedicle Note API 디자인 컨셉 가이드

## 1. UX 컨텍스트 및 인지 모델 분석

### 1.1 의료진 인지 상태 매핑

#### 진료 중 의사의 멀티태스킹 상태
- **시선 분할**: 환자 얼굴(60%) → 화면(30%) → 신체검사(10%)
- **인지 부담**: 환자 rapport + 의학적 판단 + 데이터 입력 동시 수행
- **중단 빈도**: 평균 7분마다 간호사/환자 질문으로 중단
- **복귀 시간**: 중단 후 원래 작업으로 복귀하는데 평균 23초 소요

#### 시간대별 인지 부하 변화
| 시간대 | 인지 상태 | 환경 조도 | 디자인 대응 |
|--------|-----------|-----------|-------------|
| 오전 진료 (09:00-12:00) | 집중도 높음, 판단 정확 | 600-1000 lux | 상세 정보 표시 가능 |
| 오후 진료 (14:00-18:00) | 피로 누적, 집중력 저하 | 600-1000 lux | 핵심 정보만 강조 |
| 야간 당직 (22:00-06:00) | 극도 피로, 판단력 저하 | 50-150 lux | 위험 정보만 표시 |

### 1.2 S-T-D 축의 인지적 해석

#### Situation (상황) - "환자가 호소하는 것"
- **인지 흐름**: What(무엇이) → Where(어디가) → When(언제부터) → How(어떻게)
- **입력 패턴**: 키워드 중심 → 세부 확장 → 구조화
- **정보 신뢰도**: 주관적 호소(낮음) → 객관적 검사(높음)

#### Treatment (치료) - "내가 할 수 있는 것"
- **판단 기준**: 효과성 × 안전성 × 환자 순응도
- **선택 부담**: 평균 5-7개 옵션 중 최적 선택
- **리스크 인지**: 부작용/상호작용 즉시 파악 필요

#### Duration (기간) - "시간에 따른 변화"
- **예측 불확실성**: 대부분 추정치, 확정 불가
- **중요 마일스톤**: 급성기(3일) → 아급성기(3주) → 만성기(3개월)
- **추적 필요성**: 호전/악화 트렌드 시각화

## 2. 핵심 디자인 원칙

### 2.1 정보 아키텍처 원칙

#### 원칙 1: Progressive Disclosure (점진적 공개)
- **1단계**: 핵심 3요소만 (주증상 + 부위 + 기간)
- **2단계**: 확장 정보 (강도 + 악화요인 + 완화요인)
- **3단계**: 상세 기록 (자유 텍스트 + 연관 증상)
- **구현 기준**: 80%는 1단계에서 종료, 15%는 2단계, 5%만 3단계 진입

#### 원칙 2: Context Preservation (맥락 유지)
- **고정 영역**: 환자 정보 + 주진단 + 위험 알림 항상 표시
- **플로팅 요약**: 스크롤 시에도 S-T-D 요약 카드 유지
- **브레드크럼**: 현재 위치와 다음 단계 명확히 표시

#### 원칙 3: Natural Chunking (자연스러운 덩어리화)
- **시각적 그룹핑**: 관련 정보는 카드/섹션으로 묶기
- **인지적 제한**: 한 화면에 최대 5±2개 정보 덩어리
- **계층 구조**: 3단계 이상 깊이 금지

### 2.2 인터랙션 디자인 원칙

#### 원칙 4: Keyboard-First Design (키보드 우선 설계)
- **탭 네비게이션**: 모든 필드 Tab으로 이동 가능
- **단축키 체계**: 자주 사용 기능 1-2키 조합
- **자동 완성**: 3글자 입력 시 제안 목록 표시
- **인라인 편집**: 모드 전환 없이 즉시 수정

#### 원칙 5: Forgiving Interface (관대한 인터페이스)
- **자동 저장**: 5초마다 Draft 저장
- **실행 취소**: 최근 10개 작업 Undo 지원
- **복구 가능**: 삭제 후 30일간 복원 가능
- **오류 예방**: 위험 작업 전 확인 단계

#### 원칙 6: Adaptive Density (적응형 밀도)
- **Compact Mode**: 숙련자용 고밀도 레이아웃
- **Comfortable Mode**: 일반 사용 표준 레이아웃
- **Spacious Mode**: 터치/피로 상태용 저밀도
- **자동 전환**: 시간대/사용 패턴 학습 후 자동 조정

## 3. 시각적 가이드 및 패턴

### 3.1 조도/환경 대응 전략

#### 명도 대비 체계
```
일반 모드 (300+ lux)
- 배경: #FFFFFF
- 텍스트: #212121 (대비율 18:1)
- 강조: #1976D2

저조도 모드 (50-300 lux)
- 배경: #121212
- 텍스트: #E0E0E0 (대비율 14:1)
- 강조: #64B5F6

고조도 모드 (1000+ lux)
- 배경: #FAFAFA
- 텍스트: #000000 (대비율 21:1)
- 강조: #0D47A1
```

#### 정보 우선순위 시각화
1. **위험 정보** (Critical)
   - 배경: 빨간색 계열
   - 아이콘: 경고 심볼
   - 애니메이션: 펄스 효과

2. **주의 정보** (Warning)
   - 배경: 주황색 계열
   - 아이콘: 주의 심볼
   - 애니메이션: 없음

3. **일반 정보** (Normal)
   - 배경: 중성색
   - 아이콘: 정보 심볼
   - 애니메이션: 없음

### 3.2 데이터 출처 구분

#### 신뢰도 기반 시각 구분
| 데이터 출처 | 시각적 처리 | 신뢰도 표시 |
|------------|------------|-----------|
| 의사 직접 입력 | 실선 테두리 + 진한 텍스트 | ★★★★★ |
| 검사 장비 연동 | 점선 테두리 + 보통 텍스트 | ★★★★☆ |
| AI 추출/추천 | 파선 테두리 + 연한 텍스트 | ★★★☆☆ |
| 환자 자가 입력 | 물결 테두리 + 이탤릭 텍스트 | ★★☆☆☆ |

### 3.3 권장 패턴 (Do)

#### 입력 패턴
1. **Smart Defaults**
   - 빈도 높은 값 자동 선택
   - 최근 사용 값 우선 표시
   - 컨텍스트 기반 제안

2. **Inline Validation**
   - 실시간 유효성 검사
   - 입력 중 오류 즉시 표시
   - 수정 제안 제공

3. **Batch Actions**
   - 다중 선택 지원
   - 일괄 수정 기능
   - 템플릿 적용

#### 네비게이션 패턴
1. **Sticky Navigation**
   - 핵심 메뉴 상단 고정
   - 빠른 이동 버튼
   - 최근 방문 기록

2. **Contextual Actions**
   - 우클릭 메뉴
   - 호버 시 액션 버튼
   - 스와이프 제스처 (모바일)

3. **Smart Search**
   - 자연어 검색
   - 필터 조합 저장
   - 검색 히스토리

### 3.4 안티 패턴 (Don't)

#### 절대 피해야 할 패턴
1. **Modal Hell**
   - 팝업 위에 팝업 금지
   - 필수 정보를 모달로 표시 금지
   - 작업 중단시키는 알림 금지

2. **Scroll Trap**
   - 무한 스크롤 금지
   - 중요 정보를 스크롤 깊숙이 배치 금지
   - 고정 헤더로 콘텐츠 가림 금지

3. **Confirmation Fatigue**
   - 모든 작업에 확인 요구 금지
   - 안전한 작업에 경고 표시 금지
   - 동일 확인 반복 요구 금지

4. **Information Overload**
   - 한 화면에 10개 이상 입력 필드 금지
   - 3단계 이상 중첩 메뉴 금지
   - 5개 이상 동시 알림 표시 금지

## 4. 페이지별 디자인 가이드

### 4.1 Physician Console

#### 진료 차트 페이지
**디자인 철학**: "입력이 아닌 대화" - 시스템이 의사에게 질문하는 형태

**레이아웃 구조**:
```
[환자 정보 바]
[S-T-D 진행 표시기]
[현재 축 입력 영역]
[이전 기록 참조 영역]
[AI 제안 사이드바]
```

**인터랙션 포인트**:
- Tab 키로 다음 필드 이동
- Enter 키로 다음 축 진입
- Esc 키로 이전 단계 복귀
- Ctrl+S로 임시 저장

#### 신체검사 기록 페이지
**디자인 철학**: "시각적 기록" - 해부학적 도식 위에 직접 마킹

**핵심 컴포넌트**:
- 3D 회전 가능한 인체 모델
- 터치/클릭으로 부위 선택
- 드래그로 범위 지정
- 컬러 코딩으로 중증도 표시

#### 검사 통합 뷰
**디자인 철학**: "한 눈에 보는 근거" - 모든 검사 결과의 시각적 종합

**정보 계층**:
1. 이상 소견 요약 (최상단)
2. 시계열 트렌드 그래프
3. 상세 검사 결과 테이블
4. 원본 데이터 링크

### 4.2 Admin Console

#### 통계 대시보드
**디자인 철학**: "인사이트 도출" - 데이터가 아닌 의미 전달

**시각화 원칙**:
- 차트는 최대 3개 변수
- 색상은 5개 이하 사용
- 인터랙티브 드릴다운
- 실시간 업데이트 표시

#### 데이터 품질 모니터링
**디자인 철학**: "문제의 조기 발견" - 예외 상황 우선 노출

**알림 레벨**:
- Critical: 즉시 조치 필요 (빨간색)
- Warning: 24시간 내 확인 (주황색)
- Info: 주간 리뷰 시 확인 (파란색)

## 5. 컴포넌트 시스템

### 5.1 기본 컴포넌트

#### Input Components
```
TextInput
- 자동 완성 지원
- 실시간 검증
- 플레이스홀더 애니메이션

SelectBox
- 검색 가능
- 다중 선택
- 그룹핑 지원

DateTimePicker
- 자연어 입력 ("3주 전")
- 캘린더/타임라인 뷰
- 범위 선택

AutoComplete
- Fuzzy 매칭
- 최근 사용 우선
- 카테고리 표시
```

#### Display Components
```
DataCard
- 접기/펼치기
- 액션 버튼
- 상태 인디케이터

Timeline
- 수평/수직 모드
- 줌 인/아웃
- 이벤트 필터링

Chart
- 반응형 크기
- 툴팁 상세
- 데이터 포인트 선택
```

### 5.2 복합 컴포넌트

#### S-T-D Editor
- 3개 축 탭 전환
- 진행률 표시
- 자동 저장 상태
- AI 제안 통합

#### ICD Selector
- 트리 구조 탐색
- 검색 하이라이트
- 즐겨찾기 관리
- 사용 빈도 표시

#### Patient Summary Card
- 핵심 정보 요약
- 위험 요소 강조
- 최근 방문 이력
- 빠른 액션 버튼

## 6. 반응형 전략

### 6.1 디바이스별 대응

| 디바이스 | 화면 크기 | 주요 조정 사항 |
|---------|----------|--------------|
| Desktop | 1920px+ | 3컬럼 레이아웃, 모든 기능 표시 |
| Laptop | 1366-1920px | 2컬럼 레이아웃, 보조 기능 접기 |
| Tablet | 768-1365px | 단일 컬럼, 터치 최적화 |
| Mobile | <768px | 카드 스택, 제스처 기반 |

### 6.2 적응형 인터페이스

#### 컨텍스트 기반 조정
- **진료 중**: 빠른 입력 모드
- **리뷰 중**: 상세 표시 모드
- **이동 중**: 모바일 최적화
- **교육 중**: 설명 텍스트 표시

#### 사용자 학습 기반 최적화
- 자주 사용 기능 우선 배치
- 사용하지 않는 메뉴 숨김
- 개인화된 단축키 설정
- 선호 테마 자동 적용

## 7. 접근성 고려사항

### 7.1 WCAG 2.1 AA 준수

#### 시각 접근성
- 최소 대비율 4.5:1 (일반 텍스트)
- 최소 대비율 3:1 (대형 텍스트)
- 색상만으로 정보 전달 금지
- 포커스 인디케이터 명확히 표시

#### 운동 접근성
- 모든 기능 키보드로 접근
- 클릭 영역 최소 44x44px
- 드래그 대체 수단 제공
- 시간 제한 조정 가능

#### 인지 접근성
- 명확한 레이블 사용
- 일관된 네비게이션
- 오류 메시지 구체적 제공
- 도움말 즉시 접근

### 7.2 의료 환경 특수 접근성

#### 장갑 착용 시
- 터치 영역 확대 (60x60px)
- 스와이프 제스처 단순화
- 음성 입력 지원

#### 응급 상황 시
- 원클릭 응급 모드
- 핵심 기능만 노출
- 대형 버튼과 텍스트

## 8. 성능 최적화 가이드

### 8.1 체감 성능 향상

#### 로딩 전략
- Skeleton Screen 표시
- Progressive Loading
- Optimistic Update
- Background Sync

#### 인터랙션 응답
- 즉시 피드백 (< 100ms)
- 진행 표시 (> 1초)
- 취소 가능 (> 3초)

### 8.2 데이터 최적화

#### 캐싱 전략
- 자주 사용 데이터 로컬 캐시
- 이미지 lazy loading
- API 응답 압축
- 오프라인 우선 설계

## 9. 디자이너를 위한 자가 검증 체크리스트

### 9.1 사용자 중심 검증

- [ ] 이 화면은 '입력'을 위한 것인가, '판단'을 위한 것인가?
- [ ] 의사가 환자와 눈을 맞추면서도 조작 가능한가?
- [ ] 진료 중 중단되어도 쉽게 복귀할 수 있는가?
- [ ] 실수했을 때 1초 안에 복구가 가능한가?
- [ ] 피로한 상태에서도 중요 정보를 놓치지 않는가?

### 9.2 정보 아키텍처 검증

- [ ] 한 화면에 하나의 명확한 목적이 있는가?
- [ ] 정보 계층이 3단계를 넘지 않는가?
- [ ] 스크롤 없이 핵심 정보 파악이 가능한가?
- [ ] 관련 정보가 시각적으로 그룹핑되어 있는가?
- [ ] 다음 단계가 명확히 예측 가능한가?

### 9.3 시각 디자인 검증

- [ ] 조도 변화에 대응 가능한가?
- [ ] 데이터 신뢰도가 시각적으로 구분되는가?
- [ ] 위험 정보가 즉시 인지되는가?
- [ ] 색맹 사용자도 구분 가능한가?
- [ ] 정보 밀도가 적절한가?

### 9.4 인터랙션 검증

- [ ] 키보드만으로 모든 작업이 가능한가?
- [ ] 자주 사용하는 기능에 단축키가 있는가?
- [ ] 실행 취소가 가능한가?
- [ ] 자동 저장이 작동하는가?
- [ ] 오류 발생 시 명확한 안내가 제공되는가?

### 9.5 성능 검증

- [ ] 초기 로딩이 3초 이내인가?
- [ ] 입력 반응이 즉각적인가?
- [ ] 대량 데이터도 부드럽게 표시되는가?
- [ ] 오프라인에서도 기본 기능이 작동하는가?
- [ ] 메모리 사용량이 적절한가?

## 10. 구현 우선순위 가이드

### Phase 1: Core Experience (MVP)
1. S-T-D 기본 입력 인터페이스
2. 자동 저장 및 복구
3. 키보드 네비게이션
4. 기본 조도 대응 (라이트/다크)
5. ICD 자동 제안

### Phase 2: Enhanced Usability
1. AI 기반 입력 보조
2. 음성 입력 지원
3. 고급 검색 및 필터
4. 개인화 대시보드
5. 모바일 최적화

### Phase 3: Advanced Features
1. 3D 해부학 모델
2. 실시간 협진 기능
3. 예측 분석 대시보드
4. AR 기반 검사 가이드
5. 완전한 오프라인 모드

## 11. 디자인 시스템 구축 로드맵

### 11.1 Foundation (Month 1-2)
- Color System 정의
- Typography Scale 설정
- Spacing & Grid 체계
- Icon Library 구축

### 11.2 Components (Month 2-4)
- Basic Components 개발
- Complex Components 조합
- Pattern Library 문서화
- Interaction States 정의

### 11.3 Templates (Month 4-6)
- Page Templates 제작
- Responsive Breakpoints
- Animation Guidelines
- Accessibility Audit

### 11.4 Governance (Ongoing)
- Design Review Process
- Version Control System
- Update Communication
- Training Materials

---

*이 디자인 컨셉 가이드는 살아있는 문서입니다. 실제 사용자 피드백과 임상 현장의 요구사항에 따라 지속적으로 업데이트되어야 합니다.*

*문서 버전: 1.0*
*최종 수정일: 2024년 1월*
*다음 리뷰 예정일: 2024년 4월*